<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lexAbogado.persistence.mapper.PersistenceLexAbogadoMapper">   
 
    <resultMap id="mapParametro" type="com.lexAbogado.domain.UserDataLoggin">
		<result property="user" column="USER"/>
		<result property="nombreRol" column="NOMBRE_ROL"/>
                <result property="idRol" column="ID_ROL"/>
                <result property="correo" column="CORREO"/>
	</resultMap>
	
	<select id="getUserLoggin" resultMap="mapParametro" parameterType="hashmap">
		SELECT  USUARIOS."USER" , 
                        TIPO_ROL.NOMBRE_ROL ,
                        USUARIOS.ID_ROL ,
                        USUARIOS.CORREO 
                FROM        usuarios
                INNER JOIN  TIPO_ROL ON USUARIOS.ID_ROL=TIPO_ROL.ID_ROL
                WHERE   usuarios."USER" like #{user}
                AND     usuarios.CORREO like #{pass} 
                AND     ROWNUM = 1
	</select>
 
</mapper>   