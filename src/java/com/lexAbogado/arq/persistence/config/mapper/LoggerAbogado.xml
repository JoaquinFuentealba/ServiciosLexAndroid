<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lexAbogado.persistence.mapper.PersistenceLexAbogadoMapper">   
 
    <resultMap id="mapParametro" type="com.lexAbogado.domain.UserDataLoggin">
		<result property="user" column="USER"/>
		<result property="nombreRol" column="NOMBRE_ROL"/>
                <result property="idRol" column="ID_ROL"/>
                <result property="correo" column="CORREO"/>
	</resultMap>
	
	<select id="getUserLoggin" resultMap="mapParametro" parameterType="hashmap">
		SELECT            
                                    US."USER" , 
                                    TR.NOMBRE_ROL ,
                                    US.ID_ROL ,
                                    US.CORREO 
                FROM                USUARIOS US
                INNER JOIN          TIPO_ROL TR ON US.ID_ROL=TR.ID_ROL
                WHERE             
                                    US."USER" like #{user}
                AND                 
                                    US."USER" like #{pass}
                AND                 
                                    TR.ID_ROL = 41
                AND                 
                                    ROWNUM = 1
	</select>
</mapper>   